<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Link Cleaner</title>
    <meta
      name="description"
      content="Link Cleaner is a web app that removes unnecessary junk (commonly used for tracking) from links in one click."
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="apple-touch-icon"
      sizes="192x192"
      href="img/maskable_icon_x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="24x24"
      href="img/baseline_link_black_24dp.png"
    />
    <link rel="manifest" href="site.webmanifest" />
    <link rel="shortcut icon" href="favicon.ico" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <!-- Search engine -->
    <link
      rel="search"
      type="application/opensearchdescription+xml"
      href="opensearch.xml"
      title="LinkCleaner"
    />
    <!-- Theme colors -->
    <meta name="color-scheme" content="dark light" />
    <meta
      name="theme-color"
      media="(prefers-color-scheme: light)"
      content="#FFF"
    />
    <meta
      name="theme-color"
      media="(prefers-color-scheme: dark)"
      content="#262626"
    />
    <!-- Twitter card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Link Cleaner" />
    <meta
      name="twitter:description"
      content="Remove tracking code and other variables from web links with the press of a button!"
    />
    <meta
      name="twitter:image"
      content="https://linkcleaner.kalinow.ski/img/maskable_icon_x512.png"
    />
    <meta name="twitter:image:alt" content="Link Cleaner app icon" />
    <!-- Schema for Google Search -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "url": "https://linkcleaner.kalinow.ski",
        "potentialAction": {
          "@type": "SearchAction",
          "target": {
            "@type": "EntryPoint",
            "urlTemplate": "https://linkcleaner.kalinow.ski/?url={search_term_string}"
          },
          "query-input": "required name=search_term_string"
        }
      }
    </script>
    <!-- Styles -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css"
    />
    <link href="css/custom.css" rel="stylesheet" />
    <link
      href="css/dark.css"
      rel="stylesheet"
      media="(prefers-color-scheme: dark)"
    />
  </head>

  <body class="mb-5">
    <!-- Nav bar -->
    <nav class="navbar fixed-bottom navbar-expand-sm bg-light border-top">
      <div class="container-fluid">
        <a class="navbar-brand d-sm-none" href="#">Link Cleaner</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">
                <i class="bi bi-link-45deg"></i>
                Normal Mode
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/bulk/">
                <i class="bi bi-stack"></i>
                Bulk Mode
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/history/">
                <i class="bi bi-clock-history"></i>
                History
                <span class="badge bg-secondary">New</span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main container -->
    <div class="container">
      <div class="mt-3 mb-3 mt-sm-5 mb-sm-5">
        <!-- Initial text input -->
        <div id="initial">
          <div class="input-group">
            <input
              type="text"
              class="form-control form-control-lg"
              id="link-input"
              autocomplete="off"
              placeholder="Type or paste a link here"
            />
            <button
              class="btn btn-outline-secondary"
              type="button"
              id="link-submit"
              aria-label="Submit link"
            >
              <i class="bi-chevron-right"></i>
            </button>
          </div>
          <div class="row">
            <div class="col-12 col-md-6">
              <button
                class="btn btn-outline-primary w-100 mt-2"
                type="button"
                id="link-paste-btn"
                aria-label="Paste from clipboard"
              >
                <i class="bi-clipboard"></i>
                Paste from Clipboard
              </button>
            </div>
            <div class="col-12 col-md-6">
              <button
                class="btn btn-outline-primary w-100 mt-2"
                id="settings-btn"
                type="button"
                aria-label="Settings"
                data-bs-toggle="collapse"
                data-bs-target="#settings-collapse"
                aria-expanded="false"
                aria-controls="settings-collapse"
              >
                <i class="bi bi-gear"></i>
                Settings
              </button>
            </div>
          </div>
          <div class="collapse mt-2" id="settings-collapse">
            <div class="card card-body">
              <!-- Shorten YouTube -->
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  value=""
                  id="setting_youtube-shorten-check"
                />
                <label
                  class="form-check-label"
                  for="setting_youtube-shorten-check"
                >
                  Shorten YouTube links
                </label>
              </div>
              <!-- vxTwitter -->
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  value=""
                  id="setting_vxTwitter-check"
                  aria-describedby="vxtwitter-help"
                />
                <label class="form-check-label" for="setting_vxTwitter-check">
                  Replace Twitter links with vxTwitter
                </label>
                <div id="vxtwitter-help" class="form-text">
                  Links processed with
                  <a
                    href="https://github.com/dylanpdx/BetterTwitFix"
                    target="_blank"
                    >vxTwitter</a
                  >
                  work better when embedded in Discord, especially when the
                  tweets contain embedded videos. Clicking on the link will
                  redirect to the original URL.
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Completed UI -->
        <div id="completed" style="display: none">
          <div class="input-group">
            <input
              type="text"
              class="form-control form-control-lg"
              id="link-output"
              readonly
              autocomplete="off"
            />
            <button
              class="btn btn-outline-secondary"
              type="button"
              id="link-startover"
              aria-label="Clean another link"
            >
              <i class="bi bi-arrow-counterclockwise"></i>
            </button>
          </div>
          <!-- Share buttons -->
          <div class="row">
            <div class="col-12 col-lg-4">
              <button
                type="button"
                class="btn btn-primary btn-lg w-100 mt-3"
                id="link-share-btn"
                aria-label="Share"
              >
                <i class="bi bi-share-fill"></i>&nbsp; Share
              </button>
            </div>
            <div class="col-12 col-lg-4">
              <button
                type="button"
                class="btn btn-primary btn-lg w-100 mt-3"
                id="link-copy-btn"
                aria-label="Copy to Clipboard"
              >
                <i class="bi bi-clipboard"></i>&nbsp; Copy to Clipboard
              </button>
            </div>
            <div class="col-12 col-lg-4">
              <button
                type="button"
                class="btn btn-primary btn-lg w-100 mt-3"
                id="link-qr-btn"
                data-bs-toggle="modal"
                data-bs-target="#qr-modal"
                aria-label="Open QR code"
              >
                <i class="bi bi-qr-code"></i>&nbsp; Show QR code
              </button>
            </div>
            <div class="col-12 col-lg-4">
              <button
                type="button"
                class="btn btn-primary btn-lg w-100 mt-3"
                id="email-btn"
                aria-label="Send in Email"
              >
                <i class="bi bi-envelope"></i>&nbsp; Send in Email
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-lg-6">
          <div class="card mt-3">
            <div class="card-body">
              <h5 class="card-title">What does this do?</h5>
              <p class="card-text">
                Link Cleaner is a web app that removes unnecessary junk (often
                used for tracking) from links in one click.
              </p>
              <p>
                Therefore by using this tool you reduce tracking and obtain
                prettier and shorter links for your notes and text messages. The
                result can then be copied to the device clipboard, shared to
                another app or service, or displayed as a QR code for easy
                scanning.
              </p>
              <p>
                If you install Link Cleaner to your device, it appears in your
                device's share menu. This way, you can send clean links to apps
                by first sharing them to Link Cleaner, and then Link Cleaner can
                re-open the share menu with the clean URL.
              </p>
            </div>
          </div>
        </div>
        <div class="col-12 col-lg-6 mb-3">
          <!-- Apple Shortcut button -->
          <button
            class="btn btn-outline-primary w-100 mt-3"
            type="button"
            id="apple-shortcut-btn"
            data-bs-toggle="modal"
            data-bs-target="#apple-shortcut-modal"
            style="display: none"
          >
            Install Link Cleaner as Apple Shortcut
          </button>
          <!-- Donate card -->
          <div class="card donate-card mt-3">
            <div class="card-body">
              <p class="card-text">
                Link Cleaner is developed and hosted by
                <a href="https://brandonkalinowski.com" target="_blank"
                  >Brandon Kalinowski</a
                >, and all the
                <a
                  href="https://github.com/brandonkal/link-cleaner"
                  target="_blank"
                  >code is available</a
                >.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- QR code modal -->
    <div
      class="modal fade"
      id="qr-modal"
      tabindex="-1"
      aria-hidden="true"
      aria-labelledby="qr-modal-label"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="qr-modal-label">QR Code</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body" style="padding: 0">
            <img id="qr-img" src="" class="w-100" />
          </div>
        </div>
      </div>
    </div>

    <!-- Shortcut install modal -->
    <div
      class="modal fade"
      id="apple-shortcut-modal"
      tabindex="-1"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-body">
            <p>
              This Shortcut adds Link Cleaner to your device's share menu when
              you're sharing an app. This way, you can send links first to Link
              Cleaner, then use Link Cleaner's Share button to send the new link
              to the intended destination.
            </p>
            <p>
              <b>You might see a warning about untrusted shortcuts.</b> To allow
              untrusted shortcuts, open the Settings app, tap the Shortcuts app,
              and switch on "Allow Untrusted Shortcuts".
            </p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <a
              href="https://www.icloud.com/shortcuts/ee666d7227c34abebe7e568e5e1b4016"
              target="_blank"
            >
              <button
                type="button"
                class="btn btn-primary"
                id="shortcut-install-btn"
              >
                Install Shortcut
              </button>
            </a>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
      integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js"
      integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy"
      crossorigin="anonymous"
    ></script>
    <script src="js/clearurl-logic.js"></script>
    <script src="js/shared.js"></script>
    <script src="js/main.js"></script>
    <script src="js/register-sw.js"></script>
  </body>
</html>
